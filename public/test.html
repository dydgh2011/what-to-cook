<!doctype html>
<html lang="ko">
  <head>
    <!-- metadata -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>오늘 뭐 해 먹지?</title>
    <meta name="description" content="Search what you can cook right now!" />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./stylesheets/index.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg sticky-top ps-2 pe-3 pb-1">
      <div class="container-fluid">
        <a class="navbar-brand pt-1 pb-0" href="/" id="brand">
          <img
            src="img/what-to-eat-favicon-black.svg"
            alt="Logo"
            width="40"
            height="40"
            class="d-inline-block align-text-middle"
          />
          오늘 뭐 해 먹지?
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto justify-content-between">
            <li class="nav-item">
              <a class="nav-link" href="/">검색</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/community">게시판</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/about">소개</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/claim">클레임</a>
            </li>
            <!-- button to direct email verification -->
            <li
              class="nav-item"
              id="email-confirm-button"
              style="display: none"
            >
              <a class="nav-link email-confirm-button ms-0 ms-lg-1"
                >이메일 인증하기</a
              >
            </li>
            <!-- user exists -->
            <li
              class="nav-item user-exists d-flex mb-3 mb-lg-0"
              style="display: none"
            >
              <a
                class="nav-link widget-link user-exists-widget-link"
                href="/settings"
                id="a"
              >
                <div class="widget-img-container">
                  <img
                    class="settings widget"
                    id="settings"
                    src="./img/setting-icon.svg"
                    alt="notification-icon"
                  />
                </div>
              </a>
              <a
                class="nav-link widget-link user-exists-widget-link"
                href="/notifications"
                id="b"
              >
                <div class="widget-img-container">
                  <img
                    class="notifications widget"
                    id="notifications"
                    src="./img/notification-icon.svg"
                    alt="notification-icon"
                  />
                </div>
              </a>
              <a
                class="nav-link widget-link user-exists-widget-link"
                href="/profile"
                id="c"
              >
                <div class="profile-img-container">
                  <img
                    class="user-profile-circle widget"
                    id="user-profile-circle"
                    src=""
                  />
                </div>
              </a>
            </li>
            <li class="nav-item user-not-exists" style="display: none">
              <a class="nav-link sign ms-0 ms-lg-1" href="/sign"
                >회원가입 / 로그인</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- body -->
    <div class="main-text text-center mt-5 mx-5 mb-0 lh-sm main-container">
      <div class="mb-4 about-header">Notifications</div>
    </div>

    <!-- footer -->
    <footer class="text-center text-lg-start" id="footer">
      <div class="container p-4 pb-0">
        <div class="row my-4 mb-0">
          <div class="col-lg-4 col-md-8 mx-md-auto mb-4 mb-md-0">
            <div
              class="rounded-circle d-flex align-items-center justify-content-center mb-5 mx-auto"
              style="width: 200px; height: 200px"
            >
              <img
                src="img/what-to-eat-favicon-white.svg"
                height="300"
                alt="Logo"
                loading="lazy"
              />
            </div>
            <ul class="list-unstyled d-flex flex-row justify-content-center">
              <li>
                <a
                  class="px-2"
                  href="https://github.com/dydgh2011"
                  target="_blank"
                >
                  <i class="bi bi-github" id="footer-icon"></i>
                </a>
              </li>
              <li>
                <a
                  class="px-2"
                  href="https://www.instagram.com/bass_in_sink/"
                  target="_blank"
                >
                  <i class="bi bi-instagram" id="footer-icon"></i>
                </a>
              </li>
              <li>
                <a
                  class="ps-2"
                  href="https://www.reddit.com/user/MarkNam/"
                  target="_blank"
                >
                  <i class="bi bi-reddit" id="footer-icon"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="col-lg-4 col-md-8 mx-md-auto mb-4 mb-md-0">
            <h5 class="text-uppercase mb-4">About this website</h5>
            <p class="text-lg-left description">
              본 웹사이트는 AI를 활용하여 해당 식재료들로 만들 수 있는 음식의
              레시피를 제공해 줍니다.
              <br />또한 커뮤니티를 통해 사용자들이 서로 레시피를 공유하고
              소통할 수 있도록 도와줍니다. <br />검색 결과는 해당 레시피를
              가지고 있는 웹사이트의 주소와 함께 제공됩니다.
            </p>
          </div>
          <div class="col-lg-4 col-md-8 mx-md-auto mb-4 mb-md-0">
            <h5 class="text-uppercase mb-4">Links</h5>

            <ul class="list-unstyled" id="footer-list">
              <li class="mb-2">
                <a href="/"><i class="bi bi-egg-fried me-1"></i>Home</a>
              </li>
              <li class="mb-2">
                <a href="/community"
                  ><i class="bi bi-egg-fried me-1"></i>Community</a
                >
              </li>
              <li class="mb-2">
                <a href="/about"
                  ><i class="bi bi-egg-fried me-1"></i>About Us</a
                >
              </li>
            </ul>
            <a
              href="https://www.buymeacoffee.com/marknam2011"
              class="btn bmc-btn-container"
              tabindex="-1"
              role="button"
              target="_blank"
              ><img
                src="img/bmc-logo-no-background.png"
                alt="bmc"
                class="donation-icon"
              />Buy me a coffee</a
            >
          </div>
        </div>
      </div>
      <div class="text-center p-3" id="copyright">
        © 2024 Copyright:
        <a href="https://github.com/dydgh2011" target="_blank">Nam Yongho</a>
      </div>
    </footer>

    <div id="loading-screen" class="loading-screen" style="display: none">
      <span class="loader"></span>
    </div>
    <div
      class="modal fade"
      id="exampleModalCenter"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5
              class="modal-title text-center mx-auto"
              id="exampleModalLongTitle"
            >
              --ERROR--
            </h5>
          </div>
          <div class="modal-body">...</div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn modal-button"
              data-bs-dismiss="modal"
            >
              확인
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- <script src="./scripts/index.js"></script> -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $('#profilePicture').on('change', function () {
        var file = this.files[0];
        var validImageTypes = ['image/jpeg', 'image/png', 'image/webp'];
        var maxSizeInMB = 2;
        var maxSizeInBytes = maxSizeInMB * 1024 * 1024;

        if (file) {
          if (!validImageTypes.includes(file.type)) {
            errorPopup(
              'Invalid file type. Please select an image file (jpeg, png, webp).',
            );
            $('#profilePicture').val('');
            $('.upload-name').val('첨부파일');
            $('#profilePicture-imagePreview').css('display', 'none');
            return;
          }

          if (file.size > maxSizeInBytes) {
            alert('File size exceeds 2MB. Please select a smaller file.');
            $('#profilePicture').val('');
            $('.upload-name').val('첨부파일');
            $('#profilePicture-imagePreview').css('display', 'none');
            return;
          }

          var reader = new FileReader();
          reader.onload = function (e) {
            $('#profilePicture-imagePreview').attr('src', e.target.result);
            $('#profilePicture-imagePreview').css('display', 'inline-block');
          };
          reader.readAsDataURL(file);

          var fileName = $('#profilePicture').val().split('\\').pop();
          $('.upload-name').val(fileName);
        }
      });

      $('#coverPicture').on('change', function () {
        var file = this.files[0];
        var validImageTypes = ['image/jpeg', 'image/png', 'image/webp'];
        var maxSizeInMB = 2;
        var maxSizeInBytes = maxSizeInMB * 1024 * 1024;

        if (file) {
          if (!validImageTypes.includes(file.type)) {
            errorPopup(
              'Invalid file type. Please select an image file (jpeg, png, webp).',
            );
            $('#coverPicture').val('');
            $('.upload-name').val('첨부파일');
            $('#coverPicture-imagePreview').css('display', 'none');
            return;
          }

          if (file.size > maxSizeInBytes) {
            alert('File size exceeds 2MB. Please select a smaller file.');
            $('#coverPicture').val('');
            $('.upload-name').val('첨부파일');
            $('#coverPicture-imagePreview').css('display', 'none');
            return;
          }

          var reader = new FileReader();
          reader.onload = function (e) {
            $('#coverPicture-imagePreview').attr('src', e.target.result);
            $('#coverPicture-imagePreview').css('display', 'inline-block');
          };
          reader.readAsDataURL(file);

          var fileName = $('#coverPicture').val().split('\\').pop();
          $('.upload-name').val(fileName);
        }
      });
    </script>
  </body>
</html>
